{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/yeo_nu/rhini-coach/components/LfaAnalyzer.tsx"],"sourcesContent":["\"use client\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\n\n/** LFA QuickCheck v4.6 (Portrait fix + Nearby/Logger)\n * - 실제 자동 판독 로직(회전/윈도 검출/대비 보정/축 폴백/소프트 재시도)\n * - 양성: 증상 기록/약·과 추천 + 근처 약국·병원 찾기\n * - 음성: 재검 안내 + 라이트 증상 기록 + 근처 찾기\n */\n\n// ---------- types ----------\ntype Verdict = \"Positive\" | \"Negative\" | \"Invalid\";\ntype Sensitivity = \"sensitive\" | \"balanced\" | \"conservative\";\ntype ControlPos = \"auto\" | \"left\" | \"right\" | \"top\" | \"bottom\";\ntype Mode = \"auto\" | \"manual\";\ntype Peak = { idx: number; z: number; width: number; area: number };\n\n// 결과 타입(분석 함수 반환)\ntype AnalyzeResult =\n  | {\n      ok: true;\n      result: { verdict: Verdict; detail: string; confidence: \"확실\" | \"보통\" | \"약함\" };\n    }\n  | {\n      ok: false;\n      reason?: \"nopeaks\" | string;\n      rect?: unknown;\n      axis?: \"x\" | \"y\";\n    };\n\n// ---------- 판정 프리셋 ----------\nconst PRESETS: Record<\n  Sensitivity,\n  {\n    CONTROL_MIN: number;\n    TEST_MIN_ABS: number;\n    TEST_MIN_REL: number;\n    MAX_WIDTH_FRAC: number;\n    MIN_SEP_FRAC: number;\n    MAX_SEP_FRAC: number;\n    MIN_AREA_FRAC: number;\n  }\n> = {\n  sensitive: { CONTROL_MIN: 1.2, TEST_MIN_ABS: 0.95, TEST_MIN_REL: 0.3, MAX_WIDTH_FRAC: 0.16, MIN_SEP_FRAC: 0.04, MAX_SEP_FRAC: 0.8, MIN_AREA_FRAC: 0.14 },\n  balanced: { CONTROL_MIN: 1.45, TEST_MIN_ABS: 1.1, TEST_MIN_REL: 0.4, MAX_WIDTH_FRAC: 0.12, MIN_SEP_FRAC: 0.05, MAX_SEP_FRAC: 0.7, MIN_AREA_FRAC: 0.24 },\n  conservative: { CONTROL_MIN: 1.7, TEST_MIN_ABS: 1.35, TEST_MIN_REL: 0.55, MAX_WIDTH_FRAC: 0.1, MIN_SEP_FRAC: 0.06, MAX_SEP_FRAC: 0.6, MIN_AREA_FRAC: 0.34 },\n};\n\n// -----------------------------\n//   공통: 내 위치 기반 약국/병원 찾기\n// -----------------------------\nfunction useGeo() {\n  const [lat, setLat] = useState<number | null>(null);\n  const [lng, setLng] = useState<number | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState<string | null>(null);\n\n  const request = useCallback(() => {\n    if (!navigator.geolocation) {\n      setErr(\"이 브라우저에서는 위치 기능을 지원하지 않습니다.\");\n      return;\n    }\n    setLoading(true);\n    setErr(null);\n    navigator.geolocation.getCurrentPosition(\n      (pos) => {\n        setLat(pos.coords.latitude);\n        setLng(pos.coords.longitude);\n        setLoading(false);\n      },\n      (e) => {\n        setErr(e.message || \"위치 정보를 가져오지 못했습니다.\");\n        setLoading(false);\n      },\n      { enableHighAccuracy: true, timeout: 8000, maximumAge: 0 }\n    );\n  }, []);\n\n  return { lat, lng, loading, err, request };\n}\n\nfunction naverSearchUrl(q: string, lat?: number | null, lng?: number | null) {\n  const query = encodeURIComponent(q);\n  if (lat != null && lng != null) {\n    const c = `${lng},${lat},15,0,0,0,d`;\n    return `https://map.naver.com/v5/search/${query}?c=${c}`;\n  }\n  return `https://map.naver.com/v5/search/${query}`;\n}\n\nfunction kakaoSearchUrl(q: string, lat?: number | null, lng?: number | null) {\n  const query = encodeURIComponent(q);\n  if (lat != null && lng != null) {\n    return `https://map.kakao.com/link/search/${query}?x=${lng}&y=${lat}`;\n  }\n  return `https://map.kakao.com/?q=${query}`;\n}\n\nconst NearbyFinder = ({ compact = false }: { compact?: boolean }) => {\n  const { lat, lng, loading, err, request } = useGeo();\n\n  const openBoth = (q: string) => {\n    const naver = naverSearchUrl(q, lat, lng);\n    const kakao = kakaoSearchUrl(q, lat, lng);\n    window.open(naver, \"_blank\");\n    window.open(kakao, \"_blank\");\n  };\n\n  return (\n    <div className={`mt-4 p-4 rounded-2xl border ${compact ? \"bg-white\" : \"bg-emerald-50 border-emerald-300\"}`}>\n      <div className=\"flex items-center gap-2 mb-2\">\n        <span className=\"font-semibold\">{compact ? \"근처 찾기\" : \"📍 근처 약국·병원 찾기\"}</span>\n        <button onClick={request} className=\"px-2 py-1 rounded-md border text-xs hover:bg-gray-50\" disabled={loading}>\n          {loading ? \"위치 불러오는 중…\" : lat && lng ? \"내 위치 새로고침\" : \"내 위치로 찾기\"}\n        </button>\n      </div>\n      {err && <div className=\"text-xs text-red-600 mb-2\">위치 오류: {err}</div>}\n      {lat && lng && <div className=\"text-xs text-gray-500 mb-2\">내 위치: {lat.toFixed(5)}, {lng.toFixed(5)}</div>}\n      <div className=\"flex flex-wrap gap-2\">\n        <button onClick={() => openBoth(\"약국\")} className=\"px-3 py-1.5 rounded-lg bg-emerald-600 text-white text-sm\">\n          약국 찾기 (네이버/카카오)\n        </button>\n        <button onClick={() => openBoth(\"이비인후과\")} className=\"px-3 py-1.5 rounded-lg bg-white border text-sm\">\n          이비인후과 찾기\n        </button>\n        <button onClick={() => openBoth(\"호흡기내과\")} className=\"px-3 py-1.5 rounded-lg bg-white border text-sm\">\n          호흡기내과 찾기\n        </button>\n        {!compact && (\n          <button onClick={() => openBoth(\"응급실\")} className=\"px-3 py-1.5 rounded-lg bg-white border text-sm\">\n            응급실 찾기\n          </button>\n        )}\n      </div>\n      <p className=\"mt-2 text-xs text-gray-500\">* 새 탭으로 네이버/카카오 지도를 동시에 엽니다. HTTPS에서 위치 권한을 허용해야 정확합니다.</p>\n    </div>\n  );\n};\n\n// -----------------------------\n//   증상 → 약/과추천/주의신호 규칙 + 기록\n// -----------------------------\ntype SymptomInsight = {\n  otc: string[];\n  depts: string[];\n  redFlags: string[];\n  notes?: string[];\n};\n\nfunction analyzeSymptoms(text: string): SymptomInsight {\n  const t = (text || \"\").toLowerCase();\n  const hit = (re: RegExp) => re.test(t);\n  const out: SymptomInsight = { otc: [], depts: [], redFlags: [], notes: [] };\n\n  if (hit(/비염|콧물|재채기|코막힘|가려움|알레르/)) {\n    out.otc.push(\"항히스타민(세티리진, 로라타딘 등)\", \"비충혈제거제 단기 사용\", \"식염수 세척\");\n    out.depts.push(\"이비인후과\", \"알레르기내과\");\n    out.notes?.push(\"수면 장애가 있거나 장기간 지속되면 전문 진료 권장\");\n  }\n  if (hit(/발열|열|오한|두통|몸살|근육통|통증/)) {\n    out.otc.push(\"해열·진통제(아세트아미노펜 등)\");\n    out.depts.push(\"가정의학과\", \"내과\");\n  }\n  if (hit(/기침|가래|호흡곤란|숨참|천명|흉통|가슴 통증/)) {\n    out.otc.push(\"기침억제제·거담제\", \"가글/목 스프레이\");\n    out.depts.push(\"호흡기내과\", \"가정의학과\");\n  }\n  if (hit(/인후통|목아픔|목 통증|연하통|침 삼키기/)) {\n    out.otc.push(\"가글/살균제\", \"진통제\");\n    out.depts.push(\"이비인후과\");\n  }\n  if (hit(/소아|아동|어린이|유아|아이/)) {\n    out.notes?.push(\"소아는 체중 기반 용량 계산이 필요합니다. 복용 전 약사·의사 상담 권장\");\n    if (!out.depts.includes(\"소아청소년과\")) out.depts.push(\"소아청소년과\");\n  }\n  if (hit(/호흡곤란|청색증|숨을 못|의식 저하|경련|탈수|혈담|피 섞인 가래|40도|39도/)) {\n    out.redFlags.push(\"호흡곤란/청색증/의식변화/고열 지속 등 응급 징후\");\n  }\n  if (hit(/흉통|가슴통증/)) out.redFlags.push(\"흉통 동반 — 즉시 진료 권고\");\n  if (hit(/임신|임부|산모/)) out.notes?.push(\"임신 중에는 일반약 복용 전 반드시 전문 상담 필요\");\n\n  out.otc = Array.from(new Set(out.otc));\n  out.depts = Array.from(new Set(out.depts));\n  out.redFlags = Array.from(new Set(out.redFlags));\n  out.notes = Array.from(new Set(out.notes || []));\n  return out;\n}\n\ntype SymptomLog = { ts: number; text: string; verdict?: Verdict };\nconst SYMPTOM_KEY = \"lfa_symptom_logs_v1\";\nfunction loadLogs(): SymptomLog[] {\n  if (typeof window === \"undefined\") return [];\n  try {\n    const raw = localStorage.getItem(SYMPTOM_KEY);\n    return raw ? (JSON.parse(raw) as SymptomLog[]) : [];\n  } catch {\n    return [];\n  }\n}\nfunction saveLog(entry: SymptomLog) {\n  if (typeof window === \"undefined\") return;\n  try {\n    const prev = loadLogs();\n    const next = [entry, ...prev].slice(0, 20);\n    localStorage.setItem(SYMPTOM_KEY, JSON.stringify(next));\n  } catch {}\n}\n\nconst SymptomLogger = ({ defaultVerdict }: { defaultVerdict?: Verdict }) => {\n  const [symptom, setSymptom] = useState(\"\");\n  const [insight, setInsight] = useState<SymptomInsight | null>(null);\n  const [recent, setRecent] = useState<SymptomLog[]>([]);\n\n  useEffect(() => {\n    setRecent(loadLogs());\n  }, []);\n\n  const handleSubmit = () => {\n    const res = analyzeSymptoms(symptom);\n    setInsight(res);\n    saveLog({ ts: Date.now(), text: symptom, verdict: defaultVerdict });\n    setRecent(loadLogs());\n  };\n\n  const fmt = (ts: number) => {\n    const d = new Date(ts);\n    const pad = (n: number) => n.toString().padStart(2, \"0\");\n    return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}`;\n  };\n\n  return (\n    <div className=\"mt-4 p-4 rounded-2xl border border-rose-300 bg-rose-50\">\n      <div className=\"font-semibold text-rose-700 mb-2\">🩺 증상 기록 및 맞춤 안내</div>\n      <textarea\n        placeholder=\"현재 증상을 입력하세요. (예: 콧물, 재채기, 두통, 기침, 목아픔, 소아)\"\n        className=\"w-full p-2 border rounded-md mb-2 text-sm\"\n        rows={3}\n        value={symptom}\n        onChange={(e) => setSymptom(e.target.value)}\n      />\n      <button onClick={handleSubmit} className=\"px-4 py-2 rounded-lg bg-rose-600 text-white text-sm hover:bg-rose-700\">\n        맞춤 안내 받기\n      </button>\n\n      {insight && (\n        <div className=\"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3\">\n          <div className=\"bg-white rounded-xl border p-3 text-sm\">\n            <div className=\"font-medium mb-1\">💊 추천 일반의약품(카테고리)</div>\n            {insight.otc.length ? (\n              <ul className=\"list-disc ml-5 space-y-1\">\n                {insight.otc.map((x) => (\n                  <li key={x}>{x}</li>\n                ))}\n              </ul>\n            ) : (\n              <div className=\"text-gray-500\">입력된 증상으로 추천 항목이 없습니다.</div>\n            )}\n            <p className=\"mt-2 text-xs text-gray-500\">* 기존 질환/복용약에 따라 적합성이 달라질 수 있어요.</p>\n          </div>\n\n          <div className=\"bg-white rounded-xl border p-3 text-sm\">\n            <div className=\"font-medium mb-1\">🏥 추천 진료과</div>\n            {insight.depts.length ? (\n              <div className=\"flex flex-wrap gap-1\">\n                {insight.depts.map((d) => (\n                  <span key={d} className=\"px-2 py-1 rounded-full bg-indigo-50 text-indigo-700 text-xs\">\n                    {d}\n                  </span>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-gray-500\">특정 진료과 추천 없음</div>\n            )}\n            {insight.redFlags.length > 0 && (\n              <div className=\"mt-2 p-2 rounded-lg bg-red-50 border border-red-200 text-red-700 text-xs\">⚠️ 즉시 진료 권고: {insight.redFlags.join(\" · \")}</div>\n            )}\n            {insight.notes && insight.notes.length > 0 && (\n              <ul className=\"mt-2 list-disc ml-5 text-xs text-gray-600 space-y-1\">\n                {insight.notes.map((n) => (\n                  <li key={n}>{n}</li>\n                ))}\n              </ul>\n            )}\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <NearbyFinder compact />\n          </div>\n        </div>\n      )}\n\n      {recent.length > 0 && (\n        <div className=\"mt-4 bg-white rounded-xl border p-3\">\n          <div className=\"font-medium text-sm mb-2\">🗂 최근 기록</div>\n          <div className=\"flex flex-col gap-2 text-xs\">\n            {recent.slice(0, 6).map((r, i) => (\n              <div key={i} className=\"flex items-start justify-between gap-3\">\n                <div className=\"flex-1\">\n                  <div className=\"text-gray-800\">{r.text}</div>\n                  <div className=\"text-gray-500\">{fmt(r.ts)}</div>\n                </div>\n                {r.verdict && (\n                  <span\n                    className={\n                      \"px-2 py-0.5 rounded-full \" +\n                      (r.verdict === \"Positive\"\n                        ? \"bg-red-100 text-red-700\"\n                        : r.verdict === \"Negative\"\n                        ? \"bg-green-100 text-green-700\"\n                        : \"bg-gray-200 text-gray-700\")\n                    }\n                  >\n                    {r.verdict}\n                  </span>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst NegativeAdvice = ({ again }: { again?: () => void }) => {\n  const [showSymptom, setShowSymptom] = useState(false);\n  return (\n    <div className=\"mt-4 p-4 rounded-2xl border border-slate-300 bg-slate-50\">\n      <div className=\"flex items-center gap-2 mb-2\">\n        <span className=\"text-base font-semibold\">🧭 음성 가이드</span>\n        <span className=\"text-xs text-slate-700\">이번 판독은 음성입니다.</span>\n      </div>\n      <ul className=\"list-disc ml-5 text-sm text-slate-700 space-y-1\">\n        <li>증상이 없거나 경미하면 경과 관찰만으로 충분할 수 있습니다.</li>\n        <li>채취 시점이 너무 이르거나 채취량이 적으면 음성으로 나올 수 있습니다.</li>\n        <li>조명·각도·반사 등 이미지 품질 저하도 테스트 라인 인식에 영향을 줄 수 있습니다.</li>\n      </ul>\n\n      <div className=\"mt-3 p-3 rounded-xl bg-white border text-sm\">\n        <div className=\"font-medium mb-1\">🤔 증상이 나타나거나 심해지면</div>\n        <ul className=\"list-disc ml-5 space-y-1\">\n          <li>24–48시간 내 유사 조건으로 <b>다시 키트 검사</b>를 권장합니다.</li>\n          <li>재채기·콧물·코막힘 등 뚜렷한 증상이 있으면 간단히 기록해 두세요.</li>\n          <li>호흡곤란, 고열 지속 등 경고 신호 시 <b>의료기관 상담</b>이 우선입니다.</li>\n        </ul>\n        <div className=\"mt-3 flex flex-wrap items-center gap-2\">\n          {again && (\n            <button onClick={again} className=\"px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-sm\">\n              다시 분석하기\n            </button>\n          )}\n          <button\n            onClick={() => setShowSymptom(!showSymptom)}\n            className=\"px-3 py-1.5 rounded-lg border border-slate-300 text-slate-700 text-sm bg-white hover:bg-slate-100\"\n          >\n            {showSymptom ? \"증상 기록 닫기\" : \"증상 기록 열기\"}\n          </button>\n        </div>\n      </div>\n\n      {showSymptom && (\n        <div className=\"mt-3\">\n          <SymptomLogger />\n        </div>\n      )}\n\n      <NearbyFinder compact />\n      <p className=\"mt-2 text-xs text-slate-500\">* 이 도구는 참고용입니다. 필요 시 전문가 상담을 권장합니다.</p>\n    </div>\n  );\n};\n\n// -----------------------------\n//   메인: 실제 이미지 판독 + 보조 패널\n// -----------------------------\nexport default function LfaAnalyzer() {\n  const [imageUrl, setImageUrl] = useState<string | null>(null);\n  const [mode, setMode] = useState<Mode>(\"auto\");\n  const [sensitivity, setSensitivity] = useState<Sensitivity>(\"balanced\");\n  const [controlPos, setControlPos] = useState<ControlPos>(\"auto\");\n  const [requireTwoLines, setRequireTwoLines] = useState(true);\n\n  const [result, setResult] = useState<{ verdict: Verdict; detail: string; confidence: \"확실\" | \"보통\" | \"약함\" } | null>(null);\n  const [busy, setBusy] = useState(false);\n  const [appliedRotation, setAppliedRotation] = useState(0);\n\n  const imgRef = useRef<HTMLImageElement | null>(null);\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const overlayRef = useRef<HTMLCanvasElement | null>(null);\n\n  // manual guides\n  const [guideC, setGuideC] = useState<number | null>(null);\n  const [guideT, setGuideT] = useState<number | null>(null);\n\n  // ---------- helpers\n  const clamp = (n: number, min: number, max: number) => Math.max(min, Math.min(max, n));\n  const movingAverage = (a: number[], w: number) => {\n    const h = Math.floor(w / 2),\n      o = new Array(a.length).fill(0);\n    for (let i = 0; i < a.length; i++) {\n      let s = 0,\n        c = 0;\n      for (let j = i - h; j <= i + h; j++) if (j >= 0 && j < a.length) { s += a[j]; c++; }\n      o[i] = c ? s / c : 0;\n    }\n    return o;\n  };\n  const quantile = (arr: number[] | Float32Array, q: number) => {\n    const s = Array.from(arr).filter(Number.isFinite).slice().sort((x, y) => x - y);\n    if (!s.length) return 0;\n    return s[Math.floor((s.length - 1) * q)];\n  };\n\n  // ---------- rotation\n  function drawRotated(img: HTMLImageElement, deg: number) {\n    const rad = (deg * Math.PI) / 180;\n    const srcW = img.naturalWidth || img.width, srcH = img.naturalHeight || img.height;\n    const scale = Math.min(1, 900 / Math.max(srcW, srcH));\n    const base = document.createElement(\"canvas\");\n    const bctx = base.getContext(\"2d\")!;\n    base.width = Math.round(srcW * scale);\n    base.height = Math.round(srcH * scale);\n    bctx.drawImage(img, 0, 0, base.width, base.height);\n    const w = base.width, h = base.height;\n    const cos = Math.abs(Math.cos(rad)), sin = Math.abs(Math.sin(rad));\n    const rw = Math.round(w * cos + h * sin), rh = Math.round(w * sin + h * cos);\n    const rot = document.createElement(\"canvas\");\n    const rctx = rot.getContext(\"2d\")!;\n    rot.width = rw; rot.height = rh;\n    rctx.translate(rw / 2, rh / 2); rctx.rotate(rad); rctx.drawImage(base, -w / 2, -h / 2);\n    return rot;\n  }\n  function edgeEnergy(c: HTMLCanvasElement) {\n    const ctx = c.getContext(\"2d\"); if (!ctx) return 0;\n    const { width: w, height: h } = c;\n    const data = ctx.getImageData(0, 0, w, h).data;\n    let e = 0;\n    for (let y = 1; y < h - 1; y += 2) {\n      for (let x = 1; x < w - 1; x += 2) {\n        const i = (y * w + x) * 4;\n        const g = 0.2126 * data[i] + 0.7152 * data[i + 1] + 0.0722 * data[i + 2];\n        const gx = (0.2126 * data[i + 4] + 0.7152 * data[i + 5] + 0.0722 * data[i + 6]) - (0.2126 * data[i - 4] + 0.7152 * data[i - 3] + 0.0722 * data[i - 2]);\n        const gy = (0.2126 * data[i + 4 * w] + 0.7152 * data[i + 4 * w + 1] + 0.0722 * data[i + 4 * w + 2]) - (0.2126 * data[i - 4 * w] + 0.7152 * data[i - 4 * w + 1] + 0.0722 * data[i - 4 * w + 2]);\n        e += Math.abs(gx) + Math.abs(gy) + g * 0.002;\n      }\n    }\n    return e / (w * h);\n  }\n\n  // ---------- window rect + masks + contrast stretch\n  function findWindowRect(c: HTMLCanvasElement) {\n    const ctx = c.getContext(\"2d\"); if (!ctx) throw new Error(\"Canvas context missing\");\n    const { width: w, height: h } = c;\n    const img = ctx.getImageData(0, 0, w, h);\n    const data = img.data;\n\n    const br = new Float32Array(w * h);\n    const sat = new Float32Array(w * h);\n    for (let y = 0; y < h; y++) {\n      for (let x = 0; x < w; x++) {\n        const i = (y * w + x) * 4, R = data[i], G = data[i + 1], B = data[i + 2];\n        const max = Math.max(R, G, B), min = Math.min(R, G, B);\n        br[y * w + x] = 0.2126 * R + 0.7152 * G + 0.0722 * B;\n        sat[y * w + x] = max === 0 ? 0 : (max - min) / max;\n      }\n    }\n    const col = new Float32Array(w), row = new Float32Array(h);\n    for (let x = 0; x < w; x++) { let s = 0; for (let y = 0; y < h; y++) s += br[y * w + x]; col[x] = s / h; }\n    for (let y = 0; y < h; y++) { let s = 0; for (let x = 0; x < w; x++) s += br[y * w + x]; row[y] = s / w; }\n\n    const dcol = movingAverage(Array.from(col).map((v, i) => (i ? Math.abs(v - col[i - 1]) : 0)), Math.max(9, Math.floor(w / 40)));\n    const drow = movingAverage(Array.from(row).map((v, i) => (i ? Math.abs(v - row[i - 1]) : 0)), Math.max(9, Math.floor(h / 40)));\n\n    const thx = quantile(dcol, 0.9), thy = quantile(drow, 0.9);\n    const xs: number[] = []; for (let i = 1; i < w - 1; i++) if (dcol[i] > thx && dcol[i] >= dcol[i - 1] && dcol[i] > dcol[i + 1]) xs.push(i);\n    const ys: number[] = []; for (let i = 1; i < h - 1; i++) if (drow[i] > thy && drow[i] >= drow[i - 1] && drow[i] > drow[i + 1]) ys.push(i);\n\n    const pickPair = (arr: number[], N: number) => {\n      if (arr.length < 2) return [Math.round(N * 0.12), Math.round(N * 0.88)];\n      let L = arr[0], R = arr[arr.length - 1], gap = R - L;\n      for (let i = 0; i < arr.length; i++)\n        for (let j = i + 1; j < arr.length; j++) {\n          const g = arr[j] - arr[i];\n          if (g > gap) { gap = g; L = arr[i]; R = arr[j]; }\n        }\n      if (gap < N * 0.2) return [Math.round(N * 0.12), Math.round(N * 0.88)];\n      return [L, R];\n    };\n    let [x0, x1] = pickPair(xs, w), [y0, y1] = pickPair(ys, h);\n    const padX = Math.round((x1 - x0) * 0.03), padY = Math.round((y1 - y0) * 0.05);\n    x0 = clamp(x0 + padX, 0, w - 2); x1 = clamp(x1 - padX, 1, w - 1);\n    y0 = clamp(y0 + padY, 0, h - 2); y1 = clamp(y1 - padY, 1, h - 1);\n\n    // glare/shadow mask (완화)\n    const glareMask = new Uint8Array(w * h);\n    const brHi = quantile(br, 0.96), brLo = quantile(br, 0.05);\n    for (let i = 0; i < w * h; i++) {\n      if (br[i] > brHi && sat[i] < 0.12) glareMask[i] = 1;\n      if (br[i] < brLo * 0.6) glareMask[i] = 1;\n    }\n\n    // 대비 보정: 윈도 영역만 1~99% 스트레치\n    const win: number[] = [];\n    for (let yy = y0; yy <= y1; yy++) for (let xx = x0; xx <= x1; xx++) win.push(br[yy * w + xx]);\n    const p1 = quantile(win, 0.01), p99 = quantile(win, 0.99) || 1;\n    const a = 255 / Math.max(1, p99 - p1), b = -a * p1;\n    for (let yy = y0; yy <= y1; yy++) for (let xx = x0; xx <= x1; xx++) { const k = yy * w + xx; br[k] = clamp(a * br[k] + b, 0, 255); }\n\n    return { x0, x1, y0, y1, glareMask, br };\n  }\n\n  function analyzeWindow(c: HTMLCanvasElement, rect: { x0: number; x1: number; y0: number; y1: number; glareMask: Uint8Array; br: Float32Array }) {\n    const ctx = c.getContext(\"2d\"); if (!ctx) throw new Error(\"Canvas context missing\");\n    const { x0, x1, y0, y1, glareMask } = rect; const w = c.width;\n    const data = ctx.getImageData(0, 0, c.width, c.height).data;\n\n    const profX: number[] = [];\n    for (let x = x0; x <= x1; x++) {\n      let s = 0, cnt = 0;\n      for (let y = y0; y <= y1; y++) {\n        const i = y * w + x, ii = i * 4;\n        if (glareMask[i]) continue;\n        const R = data[ii], G = data[ii + 1], B = data[ii + 2];\n        const sum = R + G + B || 1;\n        const chroma = R / sum - 0.5 * ((G / sum) + (B / sum));\n        s += chroma; cnt++;\n      }\n      profX.push(cnt ? s / cnt : 0);\n    }\n    const profY: number[] = [];\n    for (let y = y0; y <= y1; y++) {\n      let s = 0, cnt = 0;\n      for (let x = x0; x <= x1; x++) {\n        const i = y * w + x, ii = i * 4;\n        if (glareMask[i]) continue;\n        const R = data[ii], G = data[ii + 1], B = data[ii + 2];\n        const sum = R + G + B || 1;\n        const chroma = R / sum - 0.5 * ((G / sum) + (B / sum));\n        s += chroma; cnt++;\n      }\n      profY.push(cnt ? s / cnt : 0);\n    }\n    return { profX, profY };\n  }\n\n  function peaksFromProfile(arr: number[]) {\n    const bg = movingAverage(arr, Math.max(11, Math.floor(arr.length / 12)));\n    const detr = arr.map((v, i) => bg[i] - v);\n    const mean = detr.reduce((a, b) => a + b, 0) / Math.max(1, detr.length);\n    const q25 = quantile(detr, 0.25), q75 = quantile(detr, 0.75);\n    const iqr = Math.max(1e-6, q75 - q25);\n    const sigma = iqr / 1.349;\n    const z = detr.map((v) => (v - mean) / (sigma || 1));\n    const edgeMargin = Math.max(4, Math.floor(arr.length * 0.04));\n    const peaks: Peak[] = [];\n    for (let i = 1; i < z.length - 1; i++) {\n      if (z[i] >= z[i - 1] && z[i] > z[i + 1]) {\n        if (i < edgeMargin || z.length - 1 - i < edgeMargin) continue;\n        const half = z[i] * 0.5; let L = i, R = i, area = z[i];\n        while (L > 0 && z[L] > half) { L--; area += z[L]; }\n        while (R < z.length - 1 && z[R] > half) { R++; area += z[R]; }\n        peaks.push({ idx: i, z: z[i], width: R - L, area });\n      }\n    }\n    peaks.sort((a, b) => b.z - a.z);\n    const quality = (peaks[0]?.z || 0) + 0.8 * (peaks[1]?.z || 0);\n    return { z, peaks, quality };\n  }\n\n  // ---------- main analyze with portrait fallback\n  const analyzeOnce = (forceAxis?: \"x\" | \"y\"): AnalyzeResult => {\n    if (!imgRef.current || !canvasRef.current || !overlayRef.current) return { ok: false, reason: \"no canvas/img\" };\n\n    // 1) deskew: −30~+30 step 3\n    const img = imgRef.current;\n    const angles: number[] = [];\n    for (let a = -30; a <= 30; a += 3) angles.push(a);\n    let best: { angle: number; canvas: HTMLCanvasElement; energy: number } | null = null;\n    for (const a of angles) {\n      const c = drawRotated(img, a);\n      const e = edgeEnergy(c);\n      if (!best || e > best.energy) best = { angle: a, canvas: c, energy: e };\n    }\n    setAppliedRotation(best!.angle);\n\n    // 2) draw base\n    const out = canvasRef.current!;\n    const octx = out.getContext(\"2d\")!;\n    out.width = best!.canvas.width;\n    out.height = best!.canvas.height;\n    octx.drawImage(best!.canvas, 0, 0);\n\n    // 3) window rect\n    const rect = findWindowRect(best!.canvas);\n    const overlay = overlayRef.current!;\n    const ov = overlay.getContext(\"2d\")!;\n    overlay.width = out.width;\n    overlay.height = out.height;\n    ov.clearRect(0, 0, overlay.width, overlay.height);\n    ov.fillStyle = \"rgba(0,0,0,0.06)\";\n    ov.fillRect(0, 0, rect.x0, overlay.height);\n    ov.fillRect(rect.x1, 0, overlay.width - rect.x1, overlay.height);\n    ov.fillRect(rect.x0, 0, rect.x1 - rect.x0, rect.y0);\n    ov.fillRect(rect.x0, rect.y1, rect.x1 - rect.x0, overlay.height - rect.y1);\n    ov.strokeStyle = \"#22c55e\";\n    ov.lineWidth = 2;\n    ov.strokeRect(rect.x0 + 0.5, rect.y0 + 0.5, rect.x1 - rect.x0 - 1, rect.y1 - rect.y0 - 1);\n\n    // 4) profiles\n    const { profX, profY } = analyzeWindow(best!.canvas, rect);\n    const px = peaksFromProfile(profX);\n    const py = peaksFromProfile(profY);\n\n    let axis: \"x\" | \"y\";\n    if (forceAxis) axis = forceAxis;\n    else {\n      const h = rect.y1 - rect.y0, w = rect.x1 - rect.x0;\n      if (h > w * 1.2) axis = py.quality >= px.quality * 0.85 ? \"y\" : px.quality >= py.quality ? \"x\" : \"y\";\n      else axis = px.quality >= py.quality ? \"x\" : \"y\";\n    }\n\n    const sel = axis === \"x\" ? px : py;\n    const idxToCanvas = (i: number) => (axis === \"x\" ? rect.x0 + i : rect.y0 + i);\n    const peaks = sel.peaks.map((p) => ({ ...p, idx: idxToCanvas(p.idx) }));\n\n    // 5) choose control/test\n    const preset = PRESETS[sensitivity];\n    const unit = axis === \"x\" ? rect.x1 - rect.x0 : rect.y1 - rect.y0;\n    const maxWidth = Math.max(3, Math.round(unit * preset.MAX_WIDTH_FRAC));\n    const minSep = Math.round(unit * preset.MIN_SEP_FRAC);\n    const maxSep = Math.round(unit * preset.MAX_SEP_FRAC);\n    const valid = peaks.filter((p) => p.width <= maxWidth);\n\n    // debug line draw\n    const ov2 = overlayRef.current!.getContext(\"2d\");\n    if (ov2) {\n      ov2.lineWidth = 3;\n      for (const p of valid) {\n        ov2.strokeStyle = \"#8884\";\n        if (axis === \"x\") {\n          ov2.beginPath();\n          ov2.moveTo(p.idx + 0.5, rect.y0 + 2);\n          ov2.lineTo(p.idx + 0.5, rect.y1 - 2);\n          ov2.stroke();\n        } else {\n          ov2.beginPath();\n          ov2.moveTo(rect.x0 + 2, p.idx + 0.5);\n          ov2.lineTo(rect.x1 - 2, p.idx + 0.5);\n          ov2.stroke();\n        }\n      }\n    }\n\n    if (!valid.length) {\n      return { ok: false, reason: \"nopeaks\", rect, axis };\n    }\n\n    const byPos = [...valid].sort((a, b) => a.idx - b.idx);\n    let control: Peak | undefined, test: Peak | undefined;\n    const tryDir = (dir: 1 | -1) => {\n      const arr = dir === 1 ? byPos : [...byPos].reverse();\n      control = arr[0];\n      test = valid.find((p) => {\n        const d = dir === 1 ? p.idx - control!.idx : control!.idx - p.idx;\n        return d > minSep && d < maxSep;\n      });\n    };\n    if (controlPos === \"auto\") {\n      tryDir(1); const c1 = control, t1 = test;\n      tryDir(-1); const c2 = control, t2 = test;\n      const pair1Score = (c1?.z || 0) + (t1?.z || 0);\n      const pair2Score = (c2?.z || 0) + (t2?.z || 0);\n      if (pair1Score >= pair2Score) { control = c1; test = t1; } else { control = c2; test = t2; }\n    } else {\n      if (axis === \"x\") { if (controlPos === \"left\") tryDir(1); else tryDir(-1); }\n      else { if (controlPos === \"top\") tryDir(1); else tryDir(-1); }\n    }\n\n    // 6) verdict, with soft-retry if C weak\n    const { CONTROL_MIN, TEST_MIN_ABS, TEST_MIN_REL, MIN_AREA_FRAC } = PRESETS[sensitivity];\n\n    let verdict: Verdict = \"Invalid\";\n    let detail = \"\";\n    let confidence: \"확실\" | \"보통\" | \"약함\" = \"약함\";\n\n    const decide = (c?: Peak, t?: Peak, loosen = false) => {\n      const cMin = loosen ? CONTROL_MIN * 0.9 : CONTROL_MIN;\n      const absMin = loosen ? TEST_MIN_ABS * 0.95 : TEST_MIN_ABS;\n      const relMin = loosen ? TEST_MIN_REL * 0.9 : TEST_MIN_REL;\n      const areaFrac = loosen ? MIN_AREA_FRAC * 0.85 : MIN_AREA_FRAC;\n\n      if (!c || c.z < cMin) {\n        verdict = \"Invalid\"; detail = `컨트롤 라인이 약하거나 인식되지 않았습니다 (C z=${(c?.z ?? 0).toFixed(2)}).`;\n        return;\n      }\n      if (requireTwoLines && !t) {\n        verdict = \"Negative\"; detail = `음성: 컨트롤만 유효 (C z=${c.z.toFixed(2)})`; confidence = c.z > 2.2 ? \"확실\" : \"보통\";\n        return;\n      }\n      if (t) {\n        const areaOK = t.area >= c.area * areaFrac;\n        const absOK = t.z >= absMin;\n        const relOK = t.z >= c.z * relMin;\n        if (areaOK && absOK && relOK) {\n          verdict = \"Positive\";\n          detail = `양성: C z=${c.z.toFixed(2)}, T z=${t.z.toFixed(2)} (T/C area ${(t.area / c.area).toFixed(2)})`;\n          confidence = t.z > 2.0 ? \"확실\" : \"보통\";\n        } else {\n          verdict = \"Negative\";\n          detail = `음성: 테스트 라인이 기준 미달 (area:${areaOK ? \"ok\" : \"x\"}/abs:${absOK ? \"ok\" : \"x\"}/rel:${relOK ? \"ok\" : \"x\"})`;\n          confidence = absOK || relOK ? \"약함\" : \"확실\";\n        }\n      } else {\n        verdict = \"Negative\"; detail = `음성: 컨트롤만 유효`; confidence = \"보통\";\n      }\n    };\n\n    decide(control, test, false);\n    if (verdict === \"Invalid\") {\n      // 1) 축 반전 폴백\n      const alt = analyzeOnce(axis === \"x\" ? \"y\" : \"x\");\n      if (alt.ok && alt.result) return alt;\n      // 2) 느슨 판정 재시도\n      decide(control, test, true);\n    }\n\n    const ov3 = overlayRef.current!.getContext(\"2d\");\n    if (ov3) {\n      const drawLine = (idx: number, color: string) => {\n        ov3.strokeStyle = color; ov3.lineWidth = 3; ov3.beginPath();\n        if (axis === \"x\") { ov3.moveTo(idx + 0.5, rect.y0 + 2); ov3.lineTo(idx + 0.5, rect.y1 - 2); }\n        else { ov3.moveTo(rect.x0 + 2, idx + 0.5); ov3.lineTo(rect.x1 - 2, idx + 0.5); }\n        ov3.stroke();\n      };\n      if (control) drawLine(control.idx, \"#3b82f6\");\n      if (test) drawLine(test.idx, \"#ef4444\");\n    }\n\n    return { ok: true, result: { verdict, detail, confidence } };\n  };\n\n  const analyze = useCallback(() => {\n    if (!imgRef.current || !canvasRef.current || !overlayRef.current) return;\n    try {\n      setBusy(true);\n      const out = analyzeOnce();\n      if (out && out.ok && out.result) {\n        setResult(out.result);\n        saveLog({ ts: Date.now(), text: \"\", verdict: out.result.verdict });\n      } else if (out && out.reason === \"nopeaks\") {\n        setResult({ verdict: \"Invalid\", detail: \"스트립을 찾지 못했습니다. 반사/그림자 줄이고 창을 화면 가운데에 맞춰주세요.\", confidence: \"약함\" });\n      } else {\n        setResult({ verdict: \"Invalid\", detail: \"처리 실패(알 수 없음). 다른 각도에서 다시 시도해 주세요.\", confidence: \"약함\" });\n      }\n    } catch (err: any) {\n      console.error(err);\n      setResult({ verdict: \"Invalid\", detail: `처리 중 오류: ${err?.message || \"unknown\"}`, confidence: \"약함\" });\n    } finally {\n      setBusy(false);\n    }\n  }, [sensitivity, controlPos, requireTwoLines]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // 파일 입출력\n  const onPickFile = (f: File) => { setImageUrl(URL.createObjectURL(f)); setResult(null); setGuideC(null); setGuideT(null); };\n  const onInput = (e: React.ChangeEvent<HTMLInputElement>) => { const f = e.target.files?.[0]; if (f) onPickFile(f); };\n  const stop = (e: React.DragEvent) => e.preventDefault();\n  const onDrop = (e: React.DragEvent<HTMLDivElement>) => { e.preventDefault(); const f = e.dataTransfer.files?.[0]; if (f) onPickFile(f); };\n\n  useEffect(() => { if (imageUrl) { const t = setTimeout(() => analyze(), 120); return () => clearTimeout(t); } }, [imageUrl, analyze]);\n\n  // manual clicks: 첫 클릭 C, 두 번째 T (pointer-events 처리 주의)\n  useEffect(() => {\n    const o = overlayRef.current; if (!o) return;\n    const onClick = (e: MouseEvent) => {\n      if (mode !== \"manual\") return;\n      const r = o.getBoundingClientRect(); const x = Math.round(e.clientX - r.left);\n      if (guideC == null) setGuideC(x);\n      else if (guideT == null) setGuideT(x);\n      else { setGuideC(x); setGuideT(null); }\n    };\n    o.addEventListener(\"click\", onClick);\n    return () => { o.removeEventListener(\"click\", onClick); };\n  }, [mode, guideC, guideT]);\n\n  // UI\n  const VerdictBadge = useMemo(() => {\n    if (!result) return null;\n    const base = \"inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold\";\n    if (result.verdict === \"Positive\") return <span className={`${base} bg-red-100 text-red-800`}>✅ 양성</span>;\n    if (result.verdict === \"Negative\") return <span className={`${base} bg-green-100 text-green-800`}>🟢 음성</span>;\n    return <span className={`${base} bg-gray-200 text-gray-800`}>⚠️ 무효</span>;\n  }, [result]);\n\n  return (\n    <div className=\"w-full max-w-6xl mx-auto p-4 sm:p-6\">\n      <h1 className=\"text-2xl sm:text-3xl font-semibold mb-1\">📷 LFA QuickCheck v4.6</h1>\n      <p className=\"text-sm text-gray-600 mb-4\">세로 사진 보정 강화 + 맞춤 안내/근처 찾기. 자동 회전·윈도 검출·대비 보정·축 폴백 포함.</p>\n\n      <div onDrop={onDrop} onDragEnter={stop} onDragOver={stop}\n           className=\"border-2 border-dashed rounded-2xl p-6 mb-4 flex flex-col items-center justify-center text-center hover:bg-gray-50\">\n        <label className=\"w-full cursor-pointer\">\n          <input type=\"file\" accept=\"image/*\" capture=\"environment\" className=\"hidden\" onChange={onInput} />\n          <div className=\"flex flex-col items-center gap-1\">\n            <div className=\"text-5xl\">⬆️</div>\n            <div className=\"font-medium\">사진 업로드 / 드래그</div>\n            <div className=\"text-xs text-gray-500\">팁: 윈도가 화면의 40~70%가 되게 채워서 찍으면 가장 정확해요.</div>\n          </div>\n        </label>\n      </div>\n\n      <div className=\"flex flex-wrap items-center gap-3 mb-4\">\n        <button className=\"px-4 py-2 rounded-xl bg-indigo-600 text-white disabled:opacity-50\" onClick={() => analyze()} disabled={!imageUrl || busy}>\n          {busy ? \"분석 중…\" : \"분석\"}\n        </button>\n\n        <div className=\"flex items-center gap-2\">\n          <label className=\"text-xs text-gray-600\">모드</label>\n          <select className=\"px-2 py-1 border rounded-md\" value={mode} onChange={(e) => setMode(e.target.value as Mode)}>\n            <option value=\"auto\">자동</option>\n            <option value=\"manual\">수동(C/T 클릭)</option>\n          </select>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <label className=\"text-xs text-gray-600\">민감도</label>\n          <select className=\"px-2 py-1 border rounded-md\" value={sensitivity} onChange={(e) => setSensitivity(e.target.value as Sensitivity)}>\n            <option value=\"sensitive\">Sensitive</option>\n            <option value=\"balanced\">Balanced</option>\n            <option value=\"conservative\">Conservative</option>\n          </select>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <label className=\"text-xs text-gray-600\">컨트롤 위치</label>\n          <select className=\"px-2 py-1 border rounded-md\" value={controlPos} onChange={(e) => setControlPos(e.target.value as ControlPos)}>\n            <option value=\"auto\">자동</option>\n            <option value=\"left\">왼쪽</option><option value=\"right\">오른쪽</option>\n            <option value=\"top\">위쪽</option><option value=\"bottom\">아래쪽</option>\n          </select>\n        </div>\n\n        <label className=\"flex items-center gap-2 text-xs text-gray-600\">\n          <input type=\"checkbox\" checked={requireTwoLines} onChange={(e) => setRequireTwoLines(e.target.checked)} />\n          두 줄 요구(T 없으면 음성)\n        </label>\n\n        {imageUrl && <span className=\"text-xs text-gray-500\">자동 회전: {appliedRotation}°</span>}\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className=\"relative w-full overflow-hidden rounded-2xl bg-gray-100\">\n          <div className=\"aspect-video w-full relative\">\n            {imageUrl ? (\n              <img ref={imgRef} src={imageUrl} alt=\"orig\" className=\"absolute inset-0 w-full h-full object-contain\" />\n            ) : (\n              <div className=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm\">원본 미리보기</div>\n            )}\n          </div>\n          <div className=\"p-2 text-xs text-gray-500\">원본</div>\n        </div>\n\n        <div className=\"relative w-full overflow-hidden rounded-2xl bg-gray-100\">\n          <div className=\"aspect-video w-full relative\">\n            <canvas ref={canvasRef} className=\"absolute inset-0 w-full h-full object-contain\" />\n            {/* 수동 모드일 때만 클릭 허용(커서 표시). 자동일 땐 pointer-events 제거 */}\n            <canvas\n              ref={overlayRef}\n              className={`absolute inset-0 w-full h-full object-contain ${mode === \"manual\" ? \"cursor-crosshair\" : \"pointer-events-none\"}`}\n            />\n          </div>\n          <div className=\"p-2 text-xs text-gray-500\">처리 결과 {mode === \"manual\" ? \"(수동: 캔버스 클릭해 C/T 지정)\" : \"\"}</div>\n        </div>\n      </div>\n\n      <div className=\"mt-4 p-4 rounded-2xl border bg-white\">\n        <div className=\"flex items-center gap-3 mb-1\"><span className=\"text-base font-semibold\">판독 결과</span>{VerdictBadge}</div>\n        <div className=\"text-sm text-gray-700\">{result ? `${result.detail} · 신뢰도: ${result.confidence}` : \"사진을 올리면 자동으로 판독합니다.\"}</div>\n      </div>\n\n      {/* ✅ 양성일 때: 증상 기록 + 근처 찾기 */}\n      {result?.verdict === \"Positive\" && (\n        <>\n          <SymptomLogger defaultVerdict=\"Positive\" />\n          <NearbyFinder />\n        </>\n      )}\n\n      {/* ✅ 음성일 때: 안내 + 재검사 권고 + 라이트 증상 기록 + 근처찾기 */}\n      {result?.verdict === \"Negative\" && <NegativeAdvice again={() => analyze()} />}\n\n      {/* 필요 시 무효에도 근처 찾기 보일 수 있음\n      {result?.verdict === \"Invalid\" && <NearbyFinder compact />}\n      */}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1747, "column": 0}, "map": {"version":3,"sources":["file:///Users/yeo_nu/rhini-coach/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1766, "column": 0}, "map": {"version":3,"sources":["file:///Users/yeo_nu/rhini-coach/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1771, "column": 0}, "map": {"version":3,"sources":["file:///Users/yeo_nu/rhini-coach/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}